<!--<div class="pure-g-r" id="boxesLower">

    <div class="pure-u-1-2">
        <div class="boxStats" id="boxStatsLeft">
            <div class="boxLowerHeader">Global Stats</div>
            <div class="boxStatsList">
                {{ for(var algo in it.stats.algos) { }}
                <div>
                    <div><i class="fa fa-flask"></i>{{=algo}}</div>
                    <div><i class="fa fa-users"></i><span id="statsMiners{{=algo}}">{{=it.stats.algos[algo].workers}}</span> Miners</div>
                    <div><i class="fa fa-tachometer"></i><span id="statsHashrate{{=algo}}">{{=it.stats.algos[algo].hashrateString}}</span></div>
                </div>
                {{ } }}
            </div>
        </div>
    </div>

    <div class="pure-u-1-2">
        <div class="boxStats" id="boxStatsRight">
            <div class="boxLowerHeader">Pools / Coins</div>
            <div class="boxStatsList">
                {{ for(var pool in it.stats.pools) { }}
                <div>
                    <div><i class="fa fa-dot-circle-o"></i>{{=pool}}</div>
                    <div><i class="fa fa-users"></i><span id="statsMiners{{=pool}}">{{=it.stats.pools[pool].workerCount}}</span> Miners</div>
                    <div><i class="fa fa-tachometer"></i><span id="statsHashrate{{=pool}}">{{=it.stats.pools[pool].hashrateString}}</span></div>
                </div>
                {{ } }}
            </div>
        </div>
    </div>

</div>
-->

<section class="no-padding-top no-padding-bottom">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6">
                <div class="block margin-bottom-sm">


                    <div class="title"><strong>Global Stats</strong></div>
                    <div class="boxStatsList">
                        {{ for(var algo in it.stats.algos) { }}
                        <div>
                            <div><i class="fa fa-flask"></i>{{=algo}}</div>
                            <div><i class="fa fa-users"></i><span id="statsMiners{{=algo}}">{{=it.stats.algos[algo].workers}}</span> Miners</div>
                            <div><i class="fa fa-tachometer"></i><span id="statsHashrate{{=algo}}">{{=it.stats.algos[algo].hashrateString}}</span></div>
                        </div>
                        {{ } }}
                    </div>


                </div>
            </div>
            <div class="col-lg-6">
                <div class="block margin-bottom-sm">
                    
                    
                    <div class="title"><strong>Pools / Coins</strong></div>
                    <div class="boxStatsList">
                        {{ for(var pool in it.stats.pools) { }}
                        <div>
                            <div><i class="fa fa-dot-circle-o"></i>{{=pool}}</div>
                            <div><i class="fa fa-users"></i><span id="statsMiners{{=pool}}">{{=it.stats.pools[pool].workerCount}}</span> Miners</div>
                            <div><i class="fa fa-tachometer"></i><span id="statsHashrate{{=pool}}">{{=it.stats.pools[pool].hashrateString}}</span></div>
                        </div>
                        {{ } }}
                    </div>


                </div>
            </div>
            
            <div class="col-lg-12">
                <div class="block">
                    <div class="title"><strong>Compact Table</strong></div>
                    
                    <div class="table-responsive"> 
                    <table class="table table-striped table-sm">
                        <thead>
                        <tr>
                            <th>Pool</th>
                            <th>Algo</th>
                            <th>Workers</th>
                            <th>Valid Shares</th>
                            <th>Invalid Shares</th>
                            <th>Total Blocks</th>
                            <th>Pending</th>
                            <th>Confirmed</th>
                            <th>Orphaned</th>
                            <th>Hashrate</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{ for(var pool in it.stats.pools) { }}
                        <tr>
                            <td>{{=it.stats.pools[pool].name}}</td>
                            <td>{{=it.stats.pools[pool].algorithm}}</td>
                            <td>{{=Object.keys(it.stats.pools[pool].workers).length}}</td>
                            <td>{{=it.stats.pools[pool].poolStats.validShares}}</td>
                            <td>{{=it.stats.pools[pool].poolStats.invalidShares}}</td>
                            <td>{{=it.stats.pools[pool].poolStats.validBlocks}}</td>
                            <td>{{=it.stats.pools[pool].blocks.pending}}</td>
                            <td>{{=it.stats.pools[pool].blocks.confirmed}}</td>
                            <td>{{=it.stats.pools[pool].blocks.orphaned}}</td>
                            <td>{{=it.stats.pools[pool].hashrateString}}</td>
                        </tr>
                        {{ } }}
                        </tbody>
                    </table>



                </div>
            </div>

            <div id="topCharts">

                <div class="col-lg-12">
                    <div class="line-chart block chart">
                      <div class="title"><strong>Workers Per Pool</strong></div>
                      <canvas id="lineChartCustom3"></canvas>
                    </div>
                </div>

                <div class="col-lg-12">       
                    <div class="lin-chart block chart">
                      <div class="title"><strong>Line Chart Example</strong></div>
                      <div class="line-chart chart margin-bottom-sm">
                        <canvas id="lineChartCustom1"><svg id="poolHashrate"/></canvas>
                      </div>
                    </div>
                </div>
            
            </div>
            
            
            
            <script>
                document.querySelector('main').appendChild(document.createElement('script')).src = '/static/stats.js';
            </script>



        </div>
    </div>
</section>




  


<script>
    $(function() {
        statsSource.addEventListener('message', function (e) {
            var stats = JSON.parse(e.data);
            for (algo in stats.algos) {
                $('#statsMiners' + algo).text(stats.algos[algo].workers);
                $('#statsHashrate' + algo).text(stats.algos[algo].hashrateString);
            }
            for (var pool in stats.pools) {
                $('#statsMiners' + pool).text(stats.pools[pool].workerCount);
                $('#statsHashrate' + pool).text(stats.pools[pool].hashrateString);
            }
        });
    });
</script>